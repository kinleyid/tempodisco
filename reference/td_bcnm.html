<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Temporal discounting binary choice model — td_bcnm • tempodisco</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Temporal discounting binary choice model — td_bcnm"><meta name="description" content="Compute a binary choice model for a single subject"><meta property="og:description" content="Compute a binary choice model for a single subject"></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">tempodisco</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.1.0</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><a class="dropdown-item" href="../articles/adjusting-amounts.html">Working with data from an adjusting amount procedure</a></li>
    <li><a class="dropdown-item" href="../articles/analyzing-study.html">Analyzing data from multiple participants</a></li>
    <li><a class="dropdown-item" href="../articles/comparing-models.html">Comparing discounting across different discount functions</a></li>
    <li><a class="dropdown-item" href="../articles/custom-discount-functions.html">Creating custom discount functions</a></li>
    <li><a class="dropdown-item" href="../articles/drift-diffusion-models.html">Drift diffusion models</a></li>
    <li><a class="dropdown-item" href="../articles/model-free-auc.html">Computing model-free area under the curve (AUC)</a></li>
    <li><a class="dropdown-item" href="../articles/modeling-binary-choice-data.html">Modeling binary choice data</a></li>
    <li><a class="dropdown-item" href="../articles/nonsystematic-discounting.html">Indentifying non-systematic discounting</a></li>
    <li><a class="dropdown-item" href="../articles/visualizing-models.html">Visualizing models</a></li>
  </ul></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Temporal discounting binary choice model</h1>

      <div class="d-none name"><code>td_bcnm.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Compute a binary choice model for a single subject</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">td_bcnm</span><span class="op">(</span></span>
<span>  <span class="va">data</span>,</span>
<span>  discount_function <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"all"</span>, <span class="st">"hyperbolic"</span>, <span class="st">"exponential"</span>, <span class="st">"inverse-q-exponential"</span>,</span>
<span>    <span class="st">"nonlinear-time-hyperbolic"</span>, <span class="st">"scaled-exponential"</span>, <span class="st">"dual-systems-exponential"</span>,</span>
<span>    <span class="st">"nonlinear-time-exponential"</span>, <span class="st">"model-free"</span>, <span class="st">"constant"</span><span class="op">)</span>,</span>
<span>  choice_rule <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"logistic"</span>, <span class="st">"probit"</span>, <span class="st">"power"</span><span class="op">)</span>,</span>
<span>  fixed_ends <span class="op">=</span> <span class="cn">F</span>,</span>
<span>  fit_err_rate <span class="op">=</span> <span class="cn">F</span>,</span>
<span>  gamma_par_starts <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0.01</span>, <span class="fl">1</span>, <span class="fl">100</span><span class="op">)</span>,</span>
<span>  eps_par_starts <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0.01</span>, <span class="fl">0.25</span><span class="op">)</span>,</span>
<span>  silent <span class="op">=</span> <span class="cn">T</span>,</span>
<span>  optim_args <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>  na.action <span class="op">=</span> <span class="va">na.omit</span>,</span>
<span>  <span class="va">...</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-data">data<a class="anchor" aria-label="anchor" href="#arg-data"></a></dt>
<dd><p>A data frame with columns <code>val_imm</code> and <code>val_del</code> for the values of the immediate and delayed rewards, <code>del</code> for the delay, and <code>imm_chosen</code> (Boolean) for whether the immediate reward was chosen. Other columns can also be present but will be ignored.</p></dd>


<dt id="arg-discount-function">discount_function<a class="anchor" aria-label="anchor" href="#arg-discount-function"></a></dt>
<dd><p>A string specifying the name of the discount functions to use, or an object of class <code>td_fn</code> (used for creating custom discount functions), or a list of objects of class <code>td_fn</code>.</p></dd>


<dt id="arg-choice-rule">choice_rule<a class="anchor" aria-label="anchor" href="#arg-choice-rule"></a></dt>
<dd><p>A string specifying whether the <code>'logistic'</code> (default), <code>'probit'</code>, or <code>'power'</code> choice rule should be used.</p></dd>


<dt id="arg-fixed-ends">fixed_ends<a class="anchor" aria-label="anchor" href="#arg-fixed-ends"></a></dt>
<dd><p>A Boolean (false by default) specifying whether the model should satisfy the desiderata that subjects should always prefer something over nothing (i.e., nonzero delayed reward over nothing) and the same reward sooner rather than later.</p></dd>


<dt id="arg-fit-err-rate">fit_err_rate<a class="anchor" aria-label="anchor" href="#arg-fit-err-rate"></a></dt>
<dd><p>A Boolean (false by default) specifying whether the model should include an error rate (parameterized by "eps"). See Eq. 5 here: https://doi.org/10.3758/s13428-015-0672-2</p></dd>


<dt id="arg-gamma-par-starts">gamma_par_starts<a class="anchor" aria-label="anchor" href="#arg-gamma-par-starts"></a></dt>
<dd><p>A vector of starting values to try for the "gamma" parameter (which controls the steepness of the choice rule) during optimization.</p></dd>


<dt id="arg-eps-par-starts">eps_par_starts<a class="anchor" aria-label="anchor" href="#arg-eps-par-starts"></a></dt>
<dd><p>A vector of starting values to try for the "eps" parameter (which controls the error rate) during optimization. Ignored if `fit_err_rate = FALSE`.</p></dd>


<dt id="arg-silent">silent<a class="anchor" aria-label="anchor" href="#arg-silent"></a></dt>
<dd><p>Boolean (true by default). The call to <code><a href="https://rdrr.io/r/stats/optim.html" class="external-link">optim()</a></code> occurs within a <code><a href="https://rdrr.io/r/base/try.html" class="external-link">try()</a></code> wrapper. The value of <code>silent</code> is passed along to <code><a href="https://rdrr.io/r/base/try.html" class="external-link">try()</a></code>.</p></dd>


<dt id="arg-optim-args">optim_args<a class="anchor" aria-label="anchor" href="#arg-optim-args"></a></dt>
<dd><p>Additional arguments to pass to <code><a href="https://rdrr.io/r/stats/optim.html" class="external-link">optim()</a></code>. Default is <code>list(silent = T)</code>.</p></dd>


<dt id="arg-na-action">na.action<a class="anchor" aria-label="anchor" href="#arg-na-action"></a></dt>
<dd><p>Action to take when data contains <code>NA</code> values. Default is <code>na.omit</code>.</p></dd>


<dt id="arg--">...<a class="anchor" aria-label="anchor" href="#arg--"></a></dt>
<dd><p>Additional arguments to provide finer-grained control over the model configuration.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>An object of class <code>td_bcnm</code> with components <code>data</code> (containing the data used for fitting), <code>config</code> (containing the internal configuration of the model, including the <code>discount_function</code>), and <code>optim</code> (the output of <code><a href="https://rdrr.io/r/stats/optim.html" class="external-link">optim()</a></code>).</p>
    </div>
    <div class="section level2">
    <h2 id="see-also">See also<a class="anchor" aria-label="anchor" href="#see-also"></a></h2>
    <div class="dont-index"><p>Other nonlinear binary choice model functions:
<code><a href="coef.td_bcnm.html">coef.td_bcnm</a>()</code>,
<code><a href="deviance.td_bcnm.html">deviance.td_bcnm</a>()</code>,
<code><a href="fitted.td_bcnm.html">fitted.td_bcnm</a>()</code>,
<code><a href="logLik.td_bcnm.html">logLik.td_bcnm</a>()</code>,
<code><a href="predict.td_bcnm.html">predict.td_bcnm</a>()</code>,
<code><a href="residuals.td_bcnm.html">residuals.td_bcnm</a>()</code></p></div>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="kw">if</span> <span class="op">(</span><span class="cn">FALSE</span><span class="op">)</span> <span class="op">{</span> <span class="co"># \dontrun{</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="st">"td_bc_single_ptpt"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">mod</span> <span class="op">&lt;-</span> <span class="fu">td_bcnm</span><span class="op">(</span><span class="va">td_bc_single_ptpt</span>, discount_function <span class="op">=</span> <span class="st">"hyperbolic"</span>, fixed_ends <span class="op">=</span> <span class="cn">T</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="co"># Custom discount function</span></span></span>
<span class="r-in"><span><span class="va">custom_discount_function</span> <span class="op">&lt;-</span> <span class="fu"><a href="td_fn.html">td_fn</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>  name <span class="op">=</span> <span class="st">'custom'</span>,</span></span>
<span class="r-in"><span>  fn <span class="op">=</span> <span class="kw">function</span><span class="op">(</span><span class="va">data</span>, <span class="va">p</span><span class="op">)</span> <span class="op">(</span><span class="fl">1</span> <span class="op">-</span> <span class="va">p</span><span class="op">[</span><span class="st">'b'</span><span class="op">]</span><span class="op">)</span><span class="op">*</span><span class="fu"><a href="https://rdrr.io/r/base/Log.html" class="external-link">exp</a></span><span class="op">(</span><span class="op">-</span><span class="va">p</span><span class="op">[</span><span class="st">'k'</span><span class="op">]</span><span class="op">*</span><span class="va">data</span><span class="op">$</span><span class="va">del</span><span class="op">)</span> <span class="op">+</span> <span class="va">p</span><span class="op">[</span><span class="st">'b'</span><span class="op">]</span>,</span></span>
<span class="r-in"><span>  par_starts <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>k <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0.001</span>, <span class="fl">0.1</span><span class="op">)</span>, b <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0.001</span>, <span class="fl">0.1</span><span class="op">)</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>  par_lims <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>k <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0</span>, <span class="cn">Inf</span><span class="op">)</span>, b <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">1</span><span class="op">)</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>  ED50 <span class="op">=</span> <span class="kw">function</span><span class="op">(</span><span class="va">...</span><span class="op">)</span> <span class="st">'non-analytic'</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">mod</span> <span class="op">&lt;-</span> <span class="fu">td_bcnm</span><span class="op">(</span><span class="va">td_bc_single_ptpt</span>, discount_function <span class="op">=</span> <span class="va">custom_discount_function</span>, fit_err_rate <span class="op">=</span> <span class="cn">T</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">}</span> <span class="co"># }</span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Isaac Kinley.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

    </footer></div>





  </body></html>

