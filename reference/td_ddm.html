<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Temporal discounting drift diffusion model — td_ddm • tempodisco</title><script src="../lightswitch.js"></script><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Temporal discounting drift diffusion model — td_ddm"><meta name="description" content="Fit a drift diffusion model for a single subject using maximum likelihood estimation."><meta property="og:description" content="Fit a drift diffusion model for a single subject using maximum likelihood estimation."></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top " aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">tempodisco</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.1.0</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item"><a class="nav-link" href="../articles/tempodisco.html">Get started</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-examples" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Examples</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-examples"><li><h6 class="dropdown-header" data-toc-skip>Data preprocessing</h6></li>
    <li><a class="dropdown-item" href="../articles/adjusting-amounts.html">Processing adjusting-amounts data</a></li>
    <li><a class="dropdown-item" href="../articles/nonsystematic-discounting.html">Identifying nonsystematic discounting</a></li>
    <li><h6 class="dropdown-header" data-toc-skip>Model fitting</h6></li>
    <li><a class="dropdown-item" href="../articles/modeling-binary-choice-data.html">Modeling choice-level data</a></li>
    <li><a class="dropdown-item" href="../articles/visualizing-models.html">Visualizing models</a></li>
    <li><h6 class="dropdown-header" data-toc-skip>Statistical inference</h6></li>
    <li><a class="dropdown-item" href="../articles/area-under-curve.html">Measuring area under the curve</a></li>
    <li><a class="dropdown-item" href="../articles/comparing-models.html">Comparing across discount functions</a></li>
    <li><a class="dropdown-item" href="../articles/analyzing-study.html">Analyzing data from multiple participants</a></li>
    <li><h6 class="dropdown-header" data-toc-skip>Advanced topics</h6></li>
    <li><a class="dropdown-item" href="../articles/drift-diffusion-models.html">Drift diffusion models</a></li>
    <li><a class="dropdown-item" href="../articles/custom-discount-functions.html">Custom discount functions</a></li>
  </ul></li>
<li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/kinleyid/tempodisco/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-lightswitch" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true" aria-label="Light switch"><span class="fa fa-sun"></span></button>
  <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="dropdown-lightswitch"><li><button class="dropdown-item" data-bs-theme-value="light"><span class="fa fa-sun"></span> Light</button></li>
    <li><button class="dropdown-item" data-bs-theme-value="dark"><span class="fa fa-moon"></span> Dark</button></li>
    <li><button class="dropdown-item" data-bs-theme-value="auto"><span class="fa fa-adjust"></span> Auto</button></li>
  </ul></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Temporal discounting drift diffusion model</h1>
      <small class="dont-index">Source: <a href="https://github.com/kinleyid/tempodisco/blob/main/R/td_ddm.R" class="external-link"><code>R/td_ddm.R</code></a></small>
      <div class="d-none name"><code>td_ddm.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Fit a drift diffusion model for a single subject using maximum likelihood estimation.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">td_ddm</span><span class="op">(</span></span>
<span>  <span class="va">data</span>,</span>
<span>  <span class="va">discount_function</span>,</span>
<span>  v_par_starts <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0.01</span>, <span class="fl">0.1</span>, <span class="fl">1</span><span class="op">)</span>,</span>
<span>  beta_par_starts <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0.25</span>, <span class="fl">0.5</span>, <span class="fl">0.75</span><span class="op">)</span>,</span>
<span>  alpha_par_starts <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0.5</span>, <span class="fl">1</span>, <span class="fl">10</span><span class="op">)</span>,</span>
<span>  tau_par_starts <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0.2</span>, <span class="fl">0.8</span><span class="op">)</span>,</span>
<span>  drift_transform <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"none"</span>, <span class="st">"sigmoid"</span>, <span class="st">"bias-correct"</span><span class="op">)</span>,</span>
<span>  silent <span class="op">=</span> <span class="cn">T</span>,</span>
<span>  optim_args <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-data">data<a class="anchor" aria-label="anchor" href="#arg-data"></a></dt>
<dd><p>A data frame with columns <code>val_imm</code> and <code>val_del</code> for the values of the immediate and delayed rewards, <code>del</code> for the delays, <code>imm_chosen</code> (Boolean) for whether the immediate rewards were chosen, and <code>rt</code> for the reaction times (in seconds). Other columns can also be present but will be ignored.</p></dd>


<dt id="arg-discount-function">discount_function<a class="anchor" aria-label="anchor" href="#arg-discount-function"></a></dt>
<dd><p>A string specifying the name of the discount functions to use, or an object of class <code>td_fn</code> (used for creating custom discount functions), or a list of objects of class <code>td_fn</code>.</p></dd>


<dt id="arg-v-par-starts">v_par_starts<a class="anchor" aria-label="anchor" href="#arg-v-par-starts"></a></dt>
<dd><p>A vector of starting values to try for the "v" parameter (drift rate multiplier) during optimization.</p></dd>


<dt id="arg-beta-par-starts">beta_par_starts<a class="anchor" aria-label="anchor" href="#arg-beta-par-starts"></a></dt>
<dd><p>A vector of starting values to try for the "beta" parameter (bias) during optimization.</p></dd>


<dt id="arg-alpha-par-starts">alpha_par_starts<a class="anchor" aria-label="anchor" href="#arg-alpha-par-starts"></a></dt>
<dd><p>A vector of starting values to try for the "alpha" parameter (boundary separation) during optimization.</p></dd>


<dt id="arg-tau-par-starts">tau_par_starts<a class="anchor" aria-label="anchor" href="#arg-tau-par-starts"></a></dt>
<dd><p>A vector of starting values to try for the "tau" parameter (non-decision time) during optimization.</p></dd>


<dt id="arg-drift-transform">drift_transform<a class="anchor" aria-label="anchor" href="#arg-drift-transform"></a></dt>
<dd><p>A transform to apply to drift rates. Either <code>"none"</code> (no transform), <code>"sigmoid"</code> (sigmoidal transform described by Peters &amp; D'Esposito, 2020, <a href="https://doi.org/10.1371/journal.pcbi.1007615" class="external-link">doi:10.1371/journal.pcbi.1007615</a>
, and Fontanesi et al., 2019, <a href="https://doi.org/10.3758/s13423-018-1554-2" class="external-link">doi:10.3758/s13423-018-1554-2</a>
), or <code>"bias-correct"</code> (experimental; see note below).</p></dd>


<dt id="arg-silent">silent<a class="anchor" aria-label="anchor" href="#arg-silent"></a></dt>
<dd><p>Boolean (true by default). The call to <code><a href="https://rdrr.io/r/stats/optim.html" class="external-link">optim()</a></code> occurs within a <code><a href="https://rdrr.io/r/base/try.html" class="external-link">try()</a></code> wrapper. The value of <code>silent</code> is passed along to <code><a href="https://rdrr.io/r/base/try.html" class="external-link">try()</a></code>.</p></dd>


<dt id="arg-optim-args">optim_args<a class="anchor" aria-label="anchor" href="#arg-optim-args"></a></dt>
<dd><p>Additional arguments to pass to <code><a href="https://rdrr.io/r/stats/optim.html" class="external-link">optim()</a></code>. Default is <code>list(silent = T)</code>.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>An object of class <code>td_bcnm</code> with components <code>data</code> (containing the data used for fitting), <code>config</code> (containing the internal configuration of the model, including the <code>discount_function</code>), and <code>optim</code> (the output of <code><a href="https://rdrr.io/r/stats/optim.html" class="external-link">optim()</a></code>).</p>
    </div>
    <div class="section level2">
    <h2 id="note">Note<a class="anchor" aria-label="anchor" href="#note"></a></h2>
    <p>Drift rates are computed based on the difference in subjective values between the immediate and delayed rewards. In theory, when they are equally valued, they should have equal probability of being chosen. However, this is only true when the bias parameter of the drift diffusion model (<code>beta</code>) is 0.5 (i.e., no bias). To make sure the immediate and delayed reward have equal probability of being chosen when they are equally valued, we can set <code>drift_transform = "bias-correct"</code> to add a bias correction factor to the drift rate. However, this feature is experimental and its effects on model fit etc. have not been tested.</p>
    </div>
    <div class="section level2">
    <h2 id="see-also">See also<a class="anchor" aria-label="anchor" href="#see-also"></a></h2>
    <div class="dont-index"><p>Other drift diffusion model functions:
<code><a href="coef.td_ddm.html">coef.td_ddm</a>()</code>,
<code><a href="deviance.td_ddm.html">deviance.td_ddm</a>()</code>,
<code><a href="fitted.td_ddm.html">fitted.td_ddm</a>()</code>,
<code><a href="logLik.td_ddm.html">logLik.td_ddm</a>()</code>,
<code><a href="predict.td_ddm.html">predict.td_ddm</a>()</code></p></div>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="kw">if</span> <span class="op">(</span><span class="cn">FALSE</span><span class="op">)</span> <span class="op">{</span> <span class="co"># \dontrun{</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="st">"td_bc_single_ptpt"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">mod</span> <span class="op">&lt;-</span> <span class="fu">td_ddm</span><span class="op">(</span><span class="va">td_bc_single_ptpt</span>, discount_function <span class="op">=</span> <span class="st">"hyperbolic"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">}</span> <span class="co"># }</span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Isaac Kinley.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

    </footer></div>





  </body></html>

